<!DOCTYPE html>
<!-- saved from url=(0076)https://oj.hailiangedu.com/d/d2022noipcsp/p/370?tid=65a49863206d4a040fd22157 -->
<html data-page="contest_detail_problem" data-layout="basic" class="layout--basic page--contest_detail_problem theme--light hasjs nprogress-busy" lang="zh" data-app="Hydro"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link rel="apple-touch-icon" sizes="180x180" href="https://oj.hailiangedu.com/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="https://oj.hailiangedu.com/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://oj.hailiangedu.com/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="https://oj.hailiangedu.com/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="https://oj.hailiangedu.com/favicon-16x16.png" sizes="16x16">
  <link rel="canonical" href="https://oj.hailiangedu.com/p/370?tid=65a49863206d4a040fd22157">  <meta name="theme-color" content="#56758f">
    <meta property="og:site_name" content="海亮教育信息学奥赛在线训练平台">
  <meta property="og:title" content="题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台">
  <meta property="og:url" content="https://oj.hailiangedu.com/p/370">
  <meta property="og:image" content="/favicon-96x96.png">
    <title>题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台</title>
  <style>
    body {
      --font-family: "Open Sans", "Open Sans", "Seravek", "Segoe UI", "Verdana", "PingFang SC", "Hiragino Sans GB", "Lantinghei SC", "Microsoft Yahei", "WenQuanYi Micro Hei", "sans";
      --code-font-family: "Source Code Pro", "monaco", "Source Code Pro", "Consolas", "Lucida Console", "monospace";
      --font-ligatures: none !important;
    }
          #panel { display: flex; flex-direction: column; }
      </style>
      <link rel="stylesheet" media="all" href="./题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台_files/theme-4.48.25.css">
        <script>
      var _htmlNode = document.documentElement;
      _htmlNode.className = _htmlNode.className.replace(' nojs', ' hasjs');
      try {
        import('data:text/javascript,');Object.fromEntries([]);window.matchMedia('all').addEventListener('change',()=>{});
      } catch(e) {
        const s = document.createElement('script');
        s.async = false;
        s.src = "/polyfill-4.48.25.js";
        document.head.appendChild(s);
      }
    </script>
  <style>.section {
    transition: transform .5s, opacity .5s;
    transition-timing-function: ease-out-cubic;
  }</style></head>
<body><div class="page-loader nojs--hide" style="display: none;"><div class="loader"></div></div>
      <script>
      var UiContext = '{"cdn_prefix":"/","url_prefix":"/","ws_prefix":"/","nav_logo_dark":"/logo.png","constantVersion":"153205e2","domainId":"d2022noipcsp","domain":{"_id":"d2022noipcsp","lower":"d2022noipcsp","owner":2,"name":"2024-1\u6708\u6D77\u4EAE\u7EBF\u4E0B\u96C6\u8BAD","bulletin":"# \u6D77\u4EAE\u591A\u6821\u96C6\u8BAD \u8BAD\u7EC3\u7A7A\u95F4\\r\\n\\r\\n---\\r\\n\\r\\n#2024-1\u6708\u6D77\u4EAE\u7EBF\u4E0B\u96C6\u8BAD\\r\\n\\r\\n---\\r\\n\\r\\n**\u6CE8\u610F\uFF1A** \u9996\u6B21\u4F7F\u7528\uFF0C\u8BF7\u901A\u8FC7\u53F3\u4E0A\u89D2\u4E2A\u4EBA\u83DC\u5355->\u57DF\u8BBE\u7F6E\uFF0C\u786E\u8BA4\u4E2A\u4EBA\u663E\u793A\u540D\u4E3A \u201C\u59D3\u540D\uFF08\u5B66\u6821\uFF09\u201D \u683C\u5F0F\uFF0C\u4FBF\u4E8E\u663E\u793A\u548C\u7EDF\u8BA1\u6210\u7EE9\uFF01\\r\\n\\r\\n**\u6CE8\u610F\uFF1A** \u9996\u6B21\u4F7F\u7528\uFF0C\u8BF7\u901A\u8FC7\u53F3\u4E0A\u89D2\u4E2A\u4EBA\u83DC\u5355->\u6211\u7684\u8D44\u6599\uFF0C\u786E\u8BA4\u201C\u52A0\u5165\u4E86\u8FD9\u4E9B\u5C0F\u7EC4\u201D\u540E\u7684\u5C0F\u7EC4\u4FE1\u606F\u662F\u5426\u6B63\u786E\u3002\\r\\n\\r\\n**\uD83D\uDC40\uFE0F \u5173\u4E8EO2\uD83D\uDC40\uFE0F \uFF1A\u63D0\u4EA4\u8BED\u8A00\u9009\u5E26 \u201C\uFF08\u5F00\u542FO2\uFF09\u201D \u7684\u5373\u53EF\u9ED8\u8BA4\u5F00\u542FO2\u3002**\\r\\n\\r\\n**\uD83D\uDC40\uFE0F \u5173\u4E8E\u6587\u4EF6IO\uD83D\uDC40\uFE0F \uFF1A\u8BF7\u5173\u6CE8\u9898\u76EE\u8BE6\u60C5\u7F51\u9875\u9898\u76EE\u540D\u79F0\u4E0B\u65B9\u63D0\u793A\uFF08\u53C2\u8003\u9898\u5E93P1\u548CP1F\u7684\u533A\u522B\uFF09\u3002\u82E5\u9898\u76EE\u7C7B\u578B\u4E3A`\u6587\u4EF6IO(xxx)`\uFF0C\u5219\u9700\u8981\u4F7F\u7528\u6587\u4EF6IO\uFF0C\u4E14\u4EE5`xxx.in`\u4E3A\u8F93\u5165\u3001`xxx.out`\u4E3A\u8F93\u51FA\u3002\u82E5\u9898\u76EE\u7C7B\u578B\u4E3A`\u4F20\u7EDF\u9898`\u6216`\u8FDC\u7AEF\u8BC4\u6D4B\u9898`\uFF0C\u5219\u4E0D\u9700\u8981\u4F7F\u7528\u6587\u4EF6IO\u3002**\\r\\n\\r\\n","roles":{"\u5B66\u751F":"10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652887915011820990726785","\u8001\u5E08":"10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652888241541494262698625","guest":"10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652624386837205668069376","default":"10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652624386837205668069376","\u8001\u5E08_\u7279\u6743":"10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652909157393140588476407","\u8001\u5E08_\u653E\u9898":"10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652909157393140554658549"},"avatar":"gravatar:root@hydro.local","langs":"","share":""},"extraTitleContent":"\u73A9\u539F\u795E\uFF08genshin\uFF09","SWConfig":{"preload":"","hosts":["http://oj.hailiangedu.com","https://oj.hailiangedu.com","https://oj.hailiangedu.com/","/"],"domains":[]}}';
      var UserContext = '{"_id":212,"mail":"2823550525@qq.com","uname":"CallMeEric","hashType":"hydro","priv":327684,"regat":"2022-09-19T09:39:33.397Z","loginat":"2024-01-14T10:01:35.025Z","perm":"BigInt::10715086071862673209484250490600018105614048117055336074437503883703510511249361224931983788156958581275946729175531468251871452856923140435984577574698574803934567774824230985421074605062371141877954182153046474983581941267398767559165543946077062914571196477686542167660429831652887915011820990726785","scope":"BigInt::-1","role":"\u5B66\u751F","domains":[],"tfa":false,"authn":false,"group":["2024\u6D77\u4EAE\u7EBF\u4E0B\u96C6\u8BAD","212"],"viewLang":"zh","timeZone":"Asia/Shanghai","codeLang":"cc.std11","codeTemplate":"","avatar":"//q1.qlogo.cn/g?b=qq&nk=2823550525&s=160","qq":"","gender":"2","bio":"\u5899\u4E0A\u5199\u7740\u4E00\u884C\u8BDD\uFF1A\u83DC\u5C31\u591A\u7EC3\u7EC3\u3002","school":"","studentId":"","backgroundImage":"/components/profile/backgrounds/1.jpg","pinnedDomains":[],"fontFamily":"Open Sans","codeFontFamily":"Source Code Pro","preferredEditorType":"sv","monacoTheme":"vs-light","theme":"light","showInvisibleChar":false,"formatCode":true,"displayName":"\u8D75\u52C7\u54F2","nAccept":40,"nSubmit":42,"rp":163.2,"rpInfo":{"problem":162.2,"contest":1},"rank":17,"level":7,"avatarUrl":"//q1.qlogo.cn/g?b=qq&nk=2823550525&s=160"}';
    </script>
                  <script type="text/javascript" src="./题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台_files/lang-zh.js.下载"></script>
      <script type="text/javascript" src="./题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台_files/hydro-4.48.25.js.下载"></script><div style="position: fixed; bottom: 0px; z-index: 9999;"><div></div></div>
        <nav class="nav slideout-menu slideout-menu-right" id="menu">
  <div class="row"><div class="columns clearfix">
    <ol class="nav__list nav__list--main clearfix">
      <li class="nav__list-item">
        <a href="https://oj.hailiangedu.com/"><img class="nav__logo" src="./题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台_files/logo.png"></a>
      </li>        <li class="nav__list-item">
  <a href="https://oj.hailiangedu.com/d/d2022noipcsp/contest" class="nav__item">
    返回比赛列表
  </a>
</li>
              <li class="nav__list-item">
  <a href="https://oj.hailiangedu.com/d/d2022noipcsp/contest/65a49863206d4a040fd22157" class="nav__item nav--active">
    20240116模拟赛（Div. 1）
  </a>
</li>
              <li class="nav__list-item">
  <a href="https://oj.hailiangedu.com/d/d2022noipcsp/contest/65a49863206d4a040fd22157/problems" class="nav__item">
    题目列表
  </a>
</li>
              <li class="nav__list-item">
  <a href="https://oj.hailiangedu.com/d/d2022noipcspError:%20No%20route%20found%20for%20name:%20undefined" class="nav__item nav--active">
    B. 玩原神（genshin）
  </a>
</li>
      <li class="nav__list-item nav_more dropdown drop-target" data-dropdown-pos="bottom right" data-dropdown-target="#menu-nav-more" style="display: none;">
      <a href="javascript:;" class="nav__item">
        更多 <span class="icon icon-expand_more"></span>
      </a>
    </li></ol>
    <ol class="nav__list nav__list--secondary clearfix">
    
      <!-- <li class="nav__list-item"><a href="/d/d2022noipcsp/home/domain" class="nav__item"> 当前域：2024-1月海亮线下集训 </a></li> -->
      <li class="nav__list-item dropdown nav__dropdown drop-target" data-dropdown-pos="bottom right" data-dropdown-custom-class="nav__dropdown" data-dropdown-target="#menu-nav-curdomain" data-dropdown-disabledconstraintowindow="" data-dropdown-trigger-desktop-only="">
        <!-- <a href="/d/d2022noipcsp/home/domain" class="nav__item">  -->
        <a class="nav__item">
          我在：
          <span class="icon"><img src="https://cn.gravatar.com/avatar/b1c5a03f880177792abedb3685d7ed7f?d=mm&amp;s=12" width="12" height="12"></span>
          2024-1月海亮线下集训 
          <span class="icon icon-expand_more nojs--hide"></span>
        </a>
        <!-- </a> -->
        
      </li>

      <li class="nav__list-item dropdown nav__dropdown drop-target" data-dropdown-pos="bottom right" data-dropdown-custom-class="nav__dropdown" data-dropdown-target="#menu-nav-user" data-dropdown-disabledconstraintowindow="" data-dropdown-trigger-desktop-only="">
        <a href="https://oj.hailiangedu.com/d/d2022noipcsp/user/212" class="nav__item">CallMeEric <span class="icon icon-expand_more nojs--hide"></span></a>
        
      </li>
        </ol>
  </div></div>
</nav>
<nav class="nav--shadow"></nav>
<div class="slideout-panel slideout-panel-right" id="panel">
    <div class="slideout-overlay"></div>
  <div class="header--mobile">
  <div class="row"><div class="columns clearfix">
    <div class="float-left">
      <a class="header--mobile__domain" href="https://oj.hailiangedu.com/" target="_self">
        <img src="./题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台_files/logo.png">
      </a>
    </div>
    <div class="float-right">
      <button type="button" class="header__hamburger">
  <div class="hamburger hamburger--spin">
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
  </div>
</button>
    </div>
  </div></div>
</div>
  <div class="main">
        <script>

  
  
  
  
  
  
  
</script>
<div class="row" data-sticky-parent="">
  <div class="medium-9 columns">
    <div class="section visible">
      <div class="section__header">
        <h1 class="section__title">
                              #B. 玩原神（genshin）
        </h1>
                  <div class="section__tools contest-problems">
                                                      <a href="https://oj.hailiangedu.com/d/d2022noipcsp/p/369?tid=65a49863206d4a040fd22157" class="                        ">
                <span class="id">A</span>
                              </a>                                          <a href="https://oj.hailiangedu.com/d/d2022noipcsp/p/370?tid=65a49863206d4a040fd22157" class="                         active">
                <span class="id">B</span>
                              </a>                                          <a href="https://oj.hailiangedu.com/d/d2022noipcsp/p/371?tid=65a49863206d4a040fd22157" class="                        ">
                <span class="id">C</span>
                              </a>          </div>
              </div>
      <div class="section__body">
        <ul class="problem__tags">
                    <span class="bp5-tag bp5-large bp5-minimal problem__tag-item icon icon-book">文件IO (genshin)</span>
                      <span class="bp5-tag bp5-large bp5-minimal problem__tag-item icon icon-stopwatch">1000ms</span>
            <span class="bp5-tag bp5-large bp5-minimal problem__tag-item icon icon-comparison">512MiB</span>
                                      </ul>
      </div>
    </div>
    <div class="section visible">
      <div class="problem-content-container"><div class="problem-content" data-marker-enabled="">
        <div class="section__header non-scratchpad--hide">
          <h1 class="section__title">玩原神（genshin）</h1>
        </div>
                <div class="section__body typo" data-fragment-id="problem-description">
          <p><a href="https://oj.hailiangedu.com/d/d2022noipcsp/p/370/file/genshin.zip?tid=65a49863206d4a040fd22157">本题样例文件保证来源于评测数据的微改，且调整前后的答案整数部分相同</a></p>
<h2 id="%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0" tabindex="-1">题目描述</h2>
<p>放假了，小 Z 觉得呆在家里特别无聊，于是决定进行一个原神的启动。原神的地图可以抽象成<strong>有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 个顶点、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 条道路的无向连通图，且该图中至多有一个环（即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 只可能等于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 或者 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>）</strong>。</p>
<p>小 Z 现在在起点位置，他决定从当前位置出发，每次随机去一个和当前顶点有道路相连的顶点，并且<strong>同一个顶点不去两次（包括起始顶点）</strong>。贪玩的小 Z 会一直游玩，直到当前顶点的相邻顶点都已经访问过为止。</p>
<p>小 Z 所有经过的顶点按顺序构成一条非重复路径，他想知道这条路径的<strong>期望长度</strong>是多少？</p>
<p>小 Z 把原神的抽象地图画下来并进行了一个原神的关闭，可是由于他玩原神玩多了，忘了标哪个点是起点。他只好假设每个顶点都可能是起点（即每个顶点作为起始点的概率是一样的）。同时，他每次在选择下一个顶点时会<strong>等概率地随机</strong>选择一个<strong>还没去过的相邻顶点</strong>。</p>
<h2 id="%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F" tabindex="-1">输入格式</h2>
<p>第一行是两个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>，分别表示顶点数和道路数。</p>
<p>接下来 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> 行，每行三个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Y</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>W</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i , Y_i , W_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，分别表示第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 条路径的两个顶点为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">X_i , Y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，路径长 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">W_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。所有顶点的编号从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 至 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>，两个顶点之间至多只有一条道路。</p>
<h2 id="%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F" tabindex="-1">输出格式</h2>
<p>共一行，包含一个实数，即路径的期望长度。</p>
<p><strong>选手输出与标准答案的绝对误差或相对误差不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>5</mn></mrow></msup></mrow><annotation encoding="application/x-tex">10^{−5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span> 即视为正确。</strong></p>
<div class="row"><div class="code-toolbar medium-6 columns sample"><h2>输入数据 1</h2><pre class="syntax-hl language-input1" tabindex="0"><code class="language-input1">4 3
1 2 3
2 3 1
3 4 4
</code></pre><div class="toolbar"><div class="toolbar-item"><a href="javascript:;">Copy</a></div></div></div><div class="code-toolbar medium-6 columns sample"><h2>输出数据 1</h2><pre class="syntax-hl language-output1" tabindex="0"><code class="language-output1">6.00000000
</code></pre><div class="toolbar"><div class="toolbar-item"><a href="javascript:;">Copy</a></div></div></div></div>

<h2 id="%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E4%B8%8E%E6%8F%90%E7%A4%BA" tabindex="-1">数据范围与提示</h2>
<p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>W</mi><mi>i</mi></msub><mo>≤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">1 \le W_i \le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span>。</p>
<table>
<thead>
<tr>
<th style="text-align:center">测试点编号</th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">n = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span></td>
<td style="text-align:center" rowspan="5"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m = n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></td>
<td style="text-align:center">保证图是链状</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">n = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></td>
<td style="text-align:center">只有节点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 的度数大于 2</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">n = 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></td>
<td style="text-align:center" rowspan="4">-</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center" rowspan="2"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">n = 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">n = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span></td>
<td style="text-align:center" rowspan="5"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m = n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">n = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span></td>
<td style="text-align:center">环中节点个数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">\le 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">n = 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span></td>
<td style="text-align:center">环中节点个数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">\le 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center" rowspan="2"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">n = 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span></td>
<td style="text-align:center">环中节点个数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mn>15</mn></mrow><annotation encoding="application/x-tex">\le 15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">15</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">环中节点个数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">\le 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span></span></span></span></td>
</tr>
</tbody>
</table>

</div>      </div></div>
    </div>
  </div>
  <div class="medium-3 columns"><div data-sticky="large" class="" style="">
            <div class="section side section--problem-sidebar visible">
  <div>
    <ol class="menu">
              <li class="menu__item scratchpad--hide nojs--hide"><a class="menu__link highlight" name="problem-sidebar__open-scratchpad" href="javascript:;" data-global-hotkey="alt+e">
        <span class="icon icon-enlarge"></span> 进入在线编程模式 (Alt+E)
      </a></li>
      <li class="menu__item non-scratchpad--hide"><a class="menu__link" name="problem-sidebar__quit-scratchpad" href="javascript:;" data-global-hotkey="alt+q">
        <span class="icon icon-enlarge"></span> 退出在线编程模式 (Alt+Q)
      </a></li>
          <li class="menu__item scratchpad--hide"><a class="menu__link" href="https://oj.hailiangedu.com/d/d2022noipcsp/p/C24013/submit?tid=65a49863206d4a040fd22157">
        <span class="icon icon-send"></span> 递交
      </a></li>
            </ol>
  </div>
</div>
    <div class="section side visible">
  <a class="contest-sidebar__bg" href="https://oj.hailiangedu.com/d/d2022noipcsp/contest/65a49863206d4a040fd22157">
    <div class="section__body">
      <h1>20240116模拟赛（Div. 1）</h1>
      <div class="contest-sidebar__status">
              <span class="icon icon-check"></span> 已参加
            </div>
    </div>
  </a>
  <div>
    <ol class="menu">
              <li class="menu__item"><a class="menu__link" href="https://oj.hailiangedu.com/d/d2022noipcsp/contest/65a49863206d4a040fd22157">
        <span class="icon icon-award"></span> 查看比赛
      </a></li>
        
                      <li class="menu__item"><a class="menu__link" href="https://oj.hailiangedu.com/d/d2022noipcsp/discuss/contest/65a49863206d4a040fd22157">
        <span class="icon icon-comment--text"></span> 讨论
      </a></li>
          <li class="menu__item"><a class="menu__link" href="https://oj.hailiangedu.com/d/d2022noipcsp/record?tid=65a49863206d4a040fd22157">
        <span class="icon icon-flag"></span> 所有递交
      </a></li>
      <li class="menu__item"><a class="menu__link" href="https://oj.hailiangedu.com/d/d2022noipcsp/wiki/help#contest">
        <span class="icon icon-help"></span> 帮助
      </a></li>
      <li class="menu__seperator"></li>
    </ol>
  </div>
  <div class="section__body typo">
    <dl class="large horizontal">
      <dt>状态</dt>
      <dd>
        正在进行…
                  (已参加)
              </dd>
      <dt>规则</dt><dd>OI</dd>
      <dt>题目</dt><dd>3</dd>
      <dt>开始于</dt><dd><span class="time" data-timestamp="1705363203.935">2024-1-16 8:00</span>
</dd>
      <dt>结束于</dt><dd><span class="time" data-timestamp="1705379400">2024-1-16 12:30</span>
</dd>
      <dt>持续时间</dt><dd>4.5
 小时</dd>
      <dt>主持人</dt><dd><span class="user-profile-link">
      <img class="small user-profile-avatar v-center" loading="lazy" src="./题目详情 - 玩原神（genshin） - 海亮教育信息学奥赛在线训练平台_files/g" width="20" height="20">
    <a class="user-profile-name" href="https://oj.hailiangedu.com/d/d2022noipcsp/user/3">
          陈惇显（海亮高级中学） (DeaphetS)
      </a>
  </span>
</dd>
      <dt>参赛人数</dt><dd>22</dd>
    </dl>
  </div>
</div>
    </div></div>
</div>
<div style="display:none" class="outer-loader-container"><div class="loader"></div></div>
<div class="scratchpad-container" style="display:none">
  <div style="display:none" class="loader-container"><div class="loader"></div></div>
  <div id="scratchpad" style="opacity:0"></div>
</div>
  <canvas id="c_n6" width="1592" height="751" style="position: fixed; top: 0px; left: 0px; z-index: -1; opacity: 0.5;"></canvas></div>
  <div class="footer">
  <div class="row"><div class="columns">
    <div class="footer__extra-link clearfix">
      <div class="footer__extra-left">
        <ol class="clearfix">
          <li class="footer__extra-link-item dropdown drop-target" data-dropdown-target="#menu-footer-lang">
            <span><span class="icon icon-global"></span> Language <span class="icon icon-expand_less"></span></span>
            
          </li>
          <li class="footer__extra-link-item dropdown drop-target" data-dropdown-target="#menu-footer-theme">
            <span><span class="icon icon-global"></span> Theme <span class="icon icon-expand_less"></span></span>
            
          </li>
        </ol>
      </div>
      <div class="footer__extra-right">
        <ol class="clearfix"><li class="footer__extra-link-item"></li><li class="footer__extra-link-item"><script>(()=>{function e(e,n,t){return e.getAttribute(n)||t}function n(){l=i.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=i.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function c(){var t,o,i,a,m;r.clearRect(0,0,l,u),s.forEach(function(e,n){for(e.x+=e.xa,e.y+=e.ya,e.xa*=e.x>l||e.x<0?-1:1,e.ya*=e.y>u||e.y<0?-1:1,r.fillRect(e.x-.5,e.y-.5,1,1),o=n+1;o<d.length;o++)null!==(t=d[o]).x&&null!==t.y&&(i=e.x-t.x,a=e.y-t.y,(m=i*i+a*a)<t.max&&(t===y&&m>=t.max/2&&(e.x-=.03*i,e.y-=.03*a),m=(t.max-m)/t.max,r.beginPath(),r.lineWidth=m/2,r.strokeStyle="rgba("+x.c+","+(.2+m)+")",r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke()))}),w(c)}var l,u,d,t,o,i=document.createElement("canvas"),x=(t=(o=document.getElementsByTagName("script")).length,o=o[t-1],{l:t,z:e(o,"zIndex",-1),o:e(o,"opacity",.5),c:e(o,"color","0,0,0"),n:e(o,"count",39)}),a="c_n"+x.l,r=i.getContext("2d"),w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/45)},m=Math.random,y={x:null,y:null,max:2e4};i.id=a,i.style.cssText="position:fixed;top:0;left:0;z-index:"+x.z+";opacity:"+x.o,document.getElementsByClassName("main")[0].appendChild(i),n(),window.onresize=n,window.onmousemove=function(e){e=e||window.event,y.x=e.clientX,y.y=e.clientY},window.onmouseout=function(){y.x=null,y.y=null};for(var s=[],h=0;x.n>h;h++){var f=m()*l,g=m()*u,p=2*m()-1,v=2*m()-1;s.push({x:f,y:g,xa:p,ya:v,max:6e3})}d=s.concat([y]),setTimeout(function(){c()},100)})();</script>
</li><li class="footer__extra-link-item"></li><!-- <li class="footer__extra-link-item">Worker 0 in 14ms</li> -->
          <!-- Prepare 5ms -->
          <!-- Method 0ms -->
	  <li class="footer__extra-link-item"><a href="https://oj.hailiangedu.com/d/d2022noipcsp/wiki/about">关于</a></li>
          <li class="footer__extra-link-item"><span data-tooltip="Powered by Hydro v4.9.25">海亮教育信息学奥赛在线训练平台</span></li>
	</ol>
      </div>
    </div>
  </div></div>
</div>
</div>
        <script>
      var UiContextNew = '{"problemId":"C24013","problemNumId":370,"codeLang":"cc.std11","codeTemplate":"","pdoc":{"_id":"65a49553206d4a040fd2201e","content":"{\\"zh\\":\\"[\u672C\u9898\u6837\u4F8B\u6587\u4EF6\u4FDD\u8BC1\u6765\u6E90\u4E8E\u8BC4\u6D4B\u6570\u636E\u7684\u5FAE\u6539\uFF0C\u4E14\u8C03\u6574\u524D\u540E\u7684\u7B54\u6848\u6574\u6570\u90E8\u5206\u76F8\u540C](./370/file/genshin.zip?tid=65a49863206d4a040fd22157)\\\\n\\\\n## \u9898\u76EE\u63CF\u8FF0\\\\n\\\\n\u653E\u5047\u4E86\uFF0C\u5C0F Z \u89C9\u5F97\u5446\u5728\u5BB6\u91CC\u7279\u522B\u65E0\u804A\uFF0C\u4E8E\u662F\u51B3\u5B9A\u8FDB\u884C\u4E00\u4E2A\u539F\u795E\u7684\u542F\u52A8\u3002\u539F\u795E\u7684\u5730\u56FE\u53EF\u4EE5\u62BD\u8C61\u6210**\u6709 $n$ \u4E2A\u9876\u70B9\u3001$m$ \u6761\u9053\u8DEF\u7684\u65E0\u5411\u8FDE\u901A\u56FE\uFF0C\u4E14\u8BE5\u56FE\u4E2D\u81F3\u591A\u6709\u4E00\u4E2A\u73AF\uFF08\u5373 $m$ \u53EA\u53EF\u80FD\u7B49\u4E8E $n$ \u6216\u8005 $n-1$\uFF09**\u3002\\\\n\\\\n\u5C0F Z \u73B0\u5728\u5728\u8D77\u70B9\u4F4D\u7F6E\uFF0C\u4ED6\u51B3\u5B9A\u4ECE\u5F53\u524D\u4F4D\u7F6E\u51FA\u53D1\uFF0C\u6BCF\u6B21\u968F\u673A\u53BB\u4E00\u4E2A\u548C\u5F53\u524D\u9876\u70B9\u6709\u9053\u8DEF\u76F8\u8FDE\u7684\u9876\u70B9\uFF0C\u5E76\u4E14**\u540C\u4E00\u4E2A\u9876\u70B9\u4E0D\u53BB\u4E24\u6B21\uFF08\u5305\u62EC\u8D77\u59CB\u9876\u70B9\uFF09**\u3002\u8D2A\u73A9\u7684\u5C0F Z \u4F1A\u4E00\u76F4\u6E38\u73A9\uFF0C\u76F4\u5230\u5F53\u524D\u9876\u70B9\u7684\u76F8\u90BB\u9876\u70B9\u90FD\u5DF2\u7ECF\u8BBF\u95EE\u8FC7\u4E3A\u6B62\u3002\\\\n\\\\n\u5C0F Z \u6240\u6709\u7ECF\u8FC7\u7684\u9876\u70B9\u6309\u987A\u5E8F\u6784\u6210\u4E00\u6761\u975E\u91CD\u590D\u8DEF\u5F84\uFF0C\u4ED6\u60F3\u77E5\u9053\u8FD9\u6761\u8DEF\u5F84\u7684**\u671F\u671B\u957F\u5EA6**\u662F\u591A\u5C11\uFF1F\\\\n\\\\n\u5C0F Z \u628A\u539F\u795E\u7684\u62BD\u8C61\u5730\u56FE\u753B\u4E0B\u6765\u5E76\u8FDB\u884C\u4E86\u4E00\u4E2A\u539F\u795E\u7684\u5173\u95ED\uFF0C\u53EF\u662F\u7531\u4E8E\u4ED6\u73A9\u539F\u795E\u73A9\u591A\u4E86\uFF0C\u5FD8\u4E86\u6807\u54EA\u4E2A\u70B9\u662F\u8D77\u70B9\u3002\u4ED6\u53EA\u597D\u5047\u8BBE\u6BCF\u4E2A\u9876\u70B9\u90FD\u53EF\u80FD\u662F\u8D77\u70B9\uFF08\u5373\u6BCF\u4E2A\u9876\u70B9\u4F5C\u4E3A\u8D77\u59CB\u70B9\u7684\u6982\u7387\u662F\u4E00\u6837\u7684\uFF09\u3002\u540C\u65F6\uFF0C\u4ED6\u6BCF\u6B21\u5728\u9009\u62E9\u4E0B\u4E00\u4E2A\u9876\u70B9\u65F6\u4F1A**\u7B49\u6982\u7387\u5730\u968F\u673A**\u9009\u62E9\u4E00\u4E2A**\u8FD8\u6CA1\u53BB\u8FC7\u7684\u76F8\u90BB\u9876\u70B9**\u3002\\\\n\\\\n## \u8F93\u5165\u683C\u5F0F\\\\n\\\\n\u7B2C\u4E00\u884C\u662F\u4E24\u4E2A\u6574\u6570 $n$ \u548C $m$\uFF0C\u5206\u522B\u8868\u793A\u9876\u70B9\u6570\u548C\u9053\u8DEF\u6570\u3002\\\\n\\\\n\u63A5\u4E0B\u6765 $m$ \u884C\uFF0C\u6BCF\u884C\u4E09\u4E2A\u6574\u6570 $X_i , Y_i , W_i$\uFF0C\u5206\u522B\u8868\u793A\u7B2C $i$ \u6761\u8DEF\u5F84\u7684\u4E24\u4E2A\u9876\u70B9\u4E3A $X_i , Y_i$\uFF0C\u8DEF\u5F84\u957F $W_i$\u3002\u6240\u6709\u9876\u70B9\u7684\u7F16\u53F7\u4ECE $1$ \u81F3 $n$\uFF0C\u4E24\u4E2A\u9876\u70B9\u4E4B\u95F4\u81F3\u591A\u53EA\u6709\u4E00\u6761\u9053\u8DEF\u3002\\\\n\\\\n## \u8F93\u51FA\u683C\u5F0F\\\\n\\\\n\u5171\u4E00\u884C\uFF0C\u5305\u542B\u4E00\u4E2A\u5B9E\u6570\uFF0C\u5373\u8DEF\u5F84\u7684\u671F\u671B\u957F\u5EA6\u3002\\\\n\\\\n**\u9009\u624B\u8F93\u51FA\u4E0E\u6807\u51C6\u7B54\u6848\u7684\u7EDD\u5BF9\u8BEF\u5DEE\u6216\u76F8\u5BF9\u8BEF\u5DEE\u4E0D\u8D85\u8FC7 $10^{\u22125}$ \u5373\u89C6\u4E3A\u6B63\u786E\u3002**\\\\n\\\\n```input1\\\\n4 3\\\\n1 2 3\\\\n2 3 1\\\\n3 4 4\\\\n```\\\\n\\\\n```output1\\\\n6.00000000\\\\n```\\\\n\\\\n## \u6570\u636E\u8303\u56F4\u4E0E\u63D0\u793A\\\\n\\\\n\u5BF9\u4E8E $100\\\\\\\\%$ \u7684\u6570\u636E\uFF0C$1 \\\\\\\\le W_i \\\\\\\\le 100$\u3002\\\\n\\\\n| \u6D4B\u8BD5\u70B9\u7F16\u53F7 | $n$ | $m$ | \u5907\u6CE8 |\\\\n| :-: | :-: | :-: | :-: |\\\\n| 1 | $n = 10$ | $m = n - 1$ | \u4FDD\u8BC1\u56FE\u662F\u94FE\u72B6 |\\\\n| 2 | $n = 100$ | $m = n - 1$ | \u53EA\u6709\u8282\u70B9 $1$ \u7684\u5EA6\u6570\u5927\u4E8E 2 |\\\\n| 3 | $n = 1000$ | $m = n - 1$ | - |\\\\n| 4 | $n = 100000$ | $m = n - 1$ | - |\\\\n| 5 | $n = 100000$ | $m = n - 1$ | - |\\\\n| 6 | $n = 10$ | $m = n$ | - |\\\\n| 7 | $n = 100$ | $m = n$ | \u73AF\u4E2D\u8282\u70B9\u4E2A\u6570 $\\\\\\\\le 5$ |\\\\n| 8 | $n = 1000$ | $m = n$ | \u73AF\u4E2D\u8282\u70B9\u4E2A\u6570 $\\\\\\\\le 10$ |\\\\n| 9 | $n = 100000$ | $m = n$ | \u73AF\u4E2D\u8282\u70B9\u4E2A\u6570 $\\\\\\\\le 15$ |\\\\n| 10 | $n = 100000$ | $m = n$ | \u73AF\u4E2D\u8282\u70B9\u4E2A\u6570 $\\\\\\\\le 20$ |\\"}","owner":3,"domainId":"d2022noipcsp","docType":10,"docId":370,"title":"\u73A9\u539F\u795E\uFF08genshin\uFF09","tag":[],"hidden":true,"pid":"C24013","reference":{"domainId":"MainProblems","pid":1941},"html":false,"config":{"count":0,"memoryMin":512,"memoryMax":512,"timeMin":1000,"timeMax":1000,"type":"fileio","langs":["cc","cc.std14o2"],"subType":"genshin"}},"canViewRecord":false,"postSubmitUrl":"/d/d2022noipcsp/p/370/submit?tid=65a49863206d4a040fd22157","getSubmissionsUrl":"/d/d2022noipcsp/record?fullStatus=true&pid=370&tid=65a49863206d4a040fd22157","getRecordDetailUrl":"/d/d2022noipcsp/record/%7Brid%7D?tid=65a49863206d4a040fd22157","pretestConnUrl":"record-conn?pretest=1&uidOrName=212&pid=370&domainId=d2022noipcsp&tid=65a49863206d4a040fd22157","tdoc":{"_id":"65a49863206d4a040fd22157","content":"$$","owner":3,"domainId":"d2022noipcsp","docType":30,"docId":"65a49863206d4a040fd22157","duration":null,"title":"20240116\u6A21\u62DF\u8D5B\uFF08Div. 1\uFF09","rule":"oi","beginAt":"2024-01-16T00:00:00.000Z","endAt":"2024-01-16T04:30:00.000Z","pids":[369,370,371],"attend":22,"rated":true,"allowViewCode":true,"assign":["2024\u6D77\u4EAE\u7EBF\u4E0B\u96C6\u8BAD"],"autoHide":false,"lockAt":null,"maintainer":[]},"tsdoc":{"attend":1,"startAt":"2024-01-16T00:00:03.935Z"}}';
      var UserContextNew = '{}';
    </script>
  

<pre class="contest-timer" style="display:none"></pre><pre class="contest-timer" style="">04:00:59</pre><div style="display:none"></div><div class="omnibar" data-hotkey="esc:click" style="opacity:0;display:none;">
      <div class="omnibar-main">
        <div>
          <input placeholder="Search">
          <span class="icon icon-search"></span>
        </div>
        <div id="omnibar-content"></div>
      </div>
    </div><button class="omnibar-toggle" data-global-hotkey="ctrl+k:click">
      <span class="icon icon-search"></span>
    </button><div id="nprogress"><div class="bar" role="bar" style="transform: translate3d(-89.257%, 0px, 0px); transition: all 200ms ease 0s;"><div class="peg"></div></div></div></body></html>