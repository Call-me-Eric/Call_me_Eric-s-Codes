#include<bits/stdc++.h>
using namespace std;
#define int long long
const int blen=5e5;
int bans[2001]={0,4956,5587,2047,2048,0,0,0,1,2047,3413,0,1,3169,4740,0,1,3412,2049,4508,4955,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,3413,0,1,2047,2049,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3168,4634,0,0,0,0,0,1,2047,3072,0,1,3168,4718,0,1,2047,2049,2828,4634,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3412,2049,2047,2048,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,1,3852,4891,2047,2048,0,0,0,1,2047,3392,0,1,2828,4634,0,1,3327,2049,2828,4635,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,3413,0,1,2047,2049,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3164,4634,0,0,0,0,0,1,2047,3072,0,1,2828,4634,0,1,2047,2049,2828,4634,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2049,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3164,4634,0,0,0,0,0,1,2047,3072,0,1,3164,4634,0,1,2047,2049,2828,4634,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,1,2828,4634,0,0,0,0,0,1,2047,2048,0,1,2828,4634,0,1,2047,2049,2828,4634,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3412,2049,2047,2048,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2828,4635,2047,2048,0,0,0,1,2047,2048,0,1,2828,4634,0,1,3071,2049,2828,4635,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2047,2048,0,0,0,0,0,1,2047,2048,0,1,2047,3328,0,1,2047,2049,2047,2048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2828,4634,0,0,0,0,0,1,2047,2048,0,1,2828,4634,0,1,2047,2049,2828,4634,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3071,2049,2047,2048,0,0,0,1,2047,2048,0,1,2047,2048,0,1,2047,2048,0,1,2828,4634,0,0,0,0,0,1,2047,2048,0,1,2828,4634,0,1,2047,2049,2828,4635};
bool isPrime(int x)
{
    if(x==0||x==1)
        return 0;
    for(int i=2;i*i<=x;i++)
    {
        if(x%i==0)
            return 0;
    }
    return 1;
}
bool check(int x)
{
    // cout<<"Check "<<x<<endl;
    if(x==0)
        return 0;
    int l=log10(x)+1.5;
    for(int s=1;s<=(1<<(l+1))-1;s++)
    {
        int x1=x,num=0;
        for(int i=0,p10=1;i<=l;i++)
        {
            if((s>>i)&1)
            {
                num=num+(x1%10)*p10;
                p10*=10;
            }
            x1/=10;
        }
        // cout<<"s="<<s<<" "<<num<<endl;
        if(isPrime(num))
            return 0;
    }
    return 1;
}
int count(int r)
{
    int tb=r/blen,ans=bans[tb];
    for(int i=blen*tb+1;i<=r;i++)
        ans+=check(i);
    return ans;
}
signed main()
{
	freopen("prime.in","r",stdin);
	freopen("prime.out","w",stdout);
    ios::sync_with_stdio(0);
    cin.tie(0);
    for(int i=1;i<=2000;i++)
        bans[i]+=bans[i-1];
    int T;
    cin>>T;
    for(int _=1;_<=T;_++)
    {
        int l,r;
        cin>>l>>r;
        cout<<count(r)-count(l-1)<<'\n';
    }
}
/*
10
1 100000
1 999999999
1 899999999
1 799999999
1 699999999
1 599999999
1 499999999
1 399999999
1 299999999
1 199999999

2568
*/